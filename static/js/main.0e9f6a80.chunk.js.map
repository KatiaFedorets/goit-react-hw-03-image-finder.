{"version":3,"sources":["Modal/Modal.module.css","ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.module.css","Searchbar/Searchbar.jsx","Modal/Modal.jsx","ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Button/Button.jsx","services/img_api.jsx","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handelNameChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","resetForm","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autoFocus","placeholder","onChange","Component","defaultProps","Modal","onCloseModal","children","Overlay","onClick","DEFAULT_IMG","ImageGalleryItem","imageSrc","alt","bigImgUrl","onSetBigImageUrl","src","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","tags","largeImageURL","Button","searchQuery","currentPage","axios","get","App","error","showModal","largeImgUrl","onSubmitForm","isLoading","fetchImages","options","ImageApi","then","response","prevState","data","hits","console","log","catch","finally","smoothScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","setBigImageUrl","url","addEventListener","closeModal","e","removeEventListener","code","prevProps","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0e9f6a80.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__39oN5\",\"Modal\":\"Modal_Modal__1JHsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1cjyY\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1qbd1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1bdRT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Isrx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3jlmw\",\"SearchForm\":\"Searchbar_SearchForm__aWGiK\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3VEUp\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__A_hzl\",\"SearchForm_input\":\"Searchbar_SearchForm_input__DBE1L\"};","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static defaultProps = {\n    onSubmit: () => {},\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handelNameChange = event => {\n    this.setState({\n      query: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({\n      query: '',\n    });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            value={this.state.query}\n            autocomplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handelNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst Modal = ({ onCloseModal, children }) => {\n  return (\n    <div className={styles.Overlay} onClick={onCloseModal}>\n      <div className={styles.Modal}>{children}</div>\n    </div>\n  );\n};\n\nModal.defaultProps = {\n  onCloseModal: () => {},\n};\n\nModal.propTypes = {\n  onCloseModal: PropTypes.func,\n  children: PropTypes.element.isRequired,\n};\n\nexport default Modal;\n","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst DEFAULT_IMG =\n  'https://lh3.googleusercontent.com/proxy/TrqqKK7SJGwfYojUnyGfJA_3L0v2P-1euh2qsq88Xc0CAgIyD1Zg6Fu_qAgjRNGgLOVQvnS7-IbMb3Rk139R5ma_ll61FGTFmWo9qA';\n\nconst ImageGalleryItem = ({ imageSrc, alt, bigImgUrl, onSetBigImageUrl }) => (\n  <li\n    className={styles.ImageGalleryItem}\n    onClick={() => onSetBigImageUrl(bigImgUrl)}\n  >\n    <img src={imageSrc} alt={alt} className={styles.ImageGalleryItemImage} />\n  </li>\n);\n\nImageGalleryItem.defaultProps = {\n  imageSrc: DEFAULT_IMG,\n  bigImgUrl: DEFAULT_IMG,\n  alt: 'photo',\n  onSetBigImageUrl: () => {},\n};\n\nImageGalleryItem.propTypes = {\n  imageSrc: PropTypes.string,\n  bigImgUrl: PropTypes.string,\n  alt: PropTypes.string,\n  onSetBigImageUrl: PropTypes.func,\n};\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onSetBigImageUrl }) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        imageSrc={webformatURL}\n        alt={tags}\n        bigImgUrl={largeImageURL}\n        onSetBigImageUrl={onSetBigImageUrl}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.defaultProps = {\n  images: [],\n  onSetBigImageUrl: () => {},\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  onSetBigImageUrl: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  text: PropTypes.string,\n  clickHandler: PropTypes.func,\n};\nexport default Button;\n","import axios from 'axios';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\n  const API_KEY = '21032042-86fc12300170496253986cb8c';\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport default { fetchImages };\n","import React, { Component } from 'react';\nimport 'normalize.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport styles from './App.module.css';\nimport Searchbar from './Searchbar/Searchbar';\nimport Modal from './Modal/Modal';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport ImageApi from './services/img_api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    error: null,\n    showModal: false,\n    largeImgUrl: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(prevState.searchQuery);\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n\n    if (prevState.currentPage !== this.setState.currentPage) {\n      this.smoothScroll();\n    }\n  }\n\n  onSubmitForm = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n      isLoading: false,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    ImageApi.fetchImages(options)\n      .then(response => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...response.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        console.log(this.state.searchQuery);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  smoothScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  setBigImageUrl = url => {\n    this.setState({ largeImgUrl: url });\n    if (url) window.addEventListener('keydown', this.closeModal);\n  };\n\n  closeModal = e => {\n    window.removeEventListener('keydown', this.closeModal);\n\n    if (e.code === 'Escape') {\n      this.setState({ largeImgUrl: null });\n    } else if (e.target.src !== this.state.largeImgUrl) {\n      this.setState({ largeImgUrl: null });\n    }\n  };\n\n  render() {\n    const { images, isLoading, largeImgUrl } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmitForm} />\n        <ImageGallery\n          images={this.state.images}\n          onSetBigImageUrl={this.setBigImageUrl}\n        />\n        {images.length > 0 && !isLoading && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {largeImgUrl && (\n          <Modal onCloseModal={this.closeModal}>\n            <img src={largeImgUrl} alt=\"modalImg\"></img>\n          </Modal>\n        )}\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}